@{
    ViewBag.Title = "Admin Dashboard";
    var stats = ViewBag.Stats as dynamic;
}
<div class="row g-4">
    <div class="col-md-3">
        <div class="card card-strong p-3">
            <h6 class="text-muted">Total Orders</h6>
            <h3 class="accent">@ViewBag.TotalOrders</h3>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card card-strong p-3">
            <h6 class="text-muted">Ready for Pickup</h6>
            <h3 class="accent">@ViewBag.ReadyCount</h3>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card card-strong p-3">
            <h6 class="text-muted">Daily Income</h6>
            <h3 class="accent">₱@ViewBag.DailyIncome</h3>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card card-strong p-3">
            <h6 class="text-muted">Pending Incidents</h6>
            <h3 class="accent">@ViewBag.PendingIncidents</h3>
        </div>
    </div>
</div>

<div class="card card-strong p-3 mt-4">
    <h5>Recent Orders</h5>
    <table class="table">
        <thead><tr><th>Order</th><th>Customer</th><th>Status</th><th>Total</th><th>Dropoff</th></tr></thead>
        <tbody>
            @foreach (var o in ViewBag.RecentOrders as IEnumerable<LaundryShopSystem.Models.Order>)
            {
                <tr>
                    <td>@o.OrderId</td>
                    <td>@(o.Customer?.FullName ?? o.CustomerId.ToString())</td>
                    <td>@o.Status</td>
                    <td>₱@o.TotalAmount</td>
                    <td>@o.DropoffAt.ToString("yyyy-MM-dd")</td>
                </tr>
            }
        </tbody>
    </table>
</div>
